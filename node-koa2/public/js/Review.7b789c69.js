(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Review"],{"59a9":function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"f",(function(){return a})),n.d(e,"h",(function(){return o})),n.d(e,"g",(function(){return u})),n.d(e,"i",(function(){return s})),n.d(e,"e",(function(){return d})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return v})),n.d(e,"j",(function(){return p})),n.d(e,"l",(function(){return h}));var i=n("65b5");function r(t){return i["a"].post("/api/todo/saveList",t)}function a(){return i["a"].get("/api/todo/getDateList")}function o(t){return i["a"].get("/api/todo/getList",t)}function u(t){return i["a"].get("/api/todo/getDetail/".concat(t))}function s(t){return i["a"].get("/api/todo/getListByDay",{day:t})}function d(){return i["a"].get("/api/todo/getReviewList")}function c(t){return i["a"].get("/api/todo/getFinishedList",t)}function l(t){return i["a"].get("/api/todo/getRecycleList",t)}function f(t){return i["a"].delete("/api/todo/deleteTodo/".concat(t))}function v(t){return i["a"].delete("/api/todo/deleteToRecycle/".concat(t))}function p(t){return i["a"].put("/api/todo/restoreToRecycle/".concat(t))}function h(t,e){return i["a"].put("/api/todo/finishTodo",{id:t,status:e})}},"5e8f":function(t,e,n){"use strict";n.r(e);n("4de4"),n("96cf");var i=n("1da1"),r=n("ed6f"),a=n.n(r),o=n("59a9");e["default"]={name:"Review",data:function(){return{todoList:[],loading:!1,visible:!1,todoDetail:{},taskData:{}}},computed:{ratioText:function(){var t=this.taskData.rate;return t<=3?"低":t<=4?"中":"高"}},methods:{getReviewTodoList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,Object(o["e"])();case 3:n=e.sent,t.loading=!1,0===n.code&&(t.taskData=n.result.task,t.todoList=n.result.list);case 6:case"end":return e.stop()}}),e)})))()},handleCheck:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var i,r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.id,r=t.status,n.next=3,Object(o["l"])(i,r);case 3:a=n.sent,0===a.code&&(e.$toast.success(a.message),e.todoList=e.todoList.filter((function(t){return t.id!==i})));case 5:case"end":return n.stop()}}),n)})))()},handleGoDetail:function(t){this.$router.push({name:"TodoDetailView",params:{id:t.id}})},handleUpdate:function(t){var e=t.visible;this.visible=e},handleDelete:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.id,n.next=3,Object(o["b"])(i);case 3:r=n.sent,0===r.code&&(e.$toast.success("删除成功"),e.todoList=e.todoList.filter((function(t){return t.id!==i})));case 5:case"end":return n.stop()}}),n)})))()}},mounted:function(){this.getReviewTodoList()},render:function(){var t=arguments[0],e=this.$data,n=e.todoList,i=e.taskData,r=e.loading;return t("EContainer",[t("EHeader",{attrs:{title:this.$route.meta.title,type:"menu"}}),t("EAside"),t("EContent",[t("div",{class:a.a.reviewHeader},[t("div",{class:a.a.rateBox},[t("van-rate",{attrs:{value:i.rate,color:"#f5222d",allowHalf:!0}})]),t("div",{class:a.a.reviewBox},[t("div",{class:a.a.reviewBoxItem},["本周完成：",t("span",[i.finishCount])]),t("div",{class:a.a.reviewBoxItem},["本周星级：",i.rate&&t("span",[i.rate,"星"])]),t("div",{class:a.a.reviewBoxItem},["本周效率：",i.rate&&t("span",[this.ratioText])])])]),t("van-divider",{class:"divider"},["完成任务"]),t("ETodoCard",{attrs:{loading:r,todoList:n},on:{check:this.handleCheck,goDetail:this.handleGoDetail,del:this.handleDelete}})]),t("EFooter")])}}},ed6f:function(t,e,n){t.exports={reviewHeader:"index-module_reviewHeader_25gEp",rateBox:"index-module_rateBox_2uZ9w",reviewBox:"index-module_reviewBox_274Xm",reviewBoxItem:"index-module_reviewBoxItem_3bw-x"}}}]);
//# sourceMappingURL=Review.7b789c69.js.map